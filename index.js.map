{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\naxios.defaults.baseURL = 'https://pixabay.com/api/'; \nconst keyP = '54466384-09b1ba24b9e280fec4b671a93';\nconst getImagesByQuery = query =>\n  axios.get('', {\n    params: {\n      key: keyP,\n      q: query,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: true\n    }\n  })\n    .then(response => {\n\t\tconsole.log(response.data);\n      console.log(response.status);\n      console.log(response.statusText);\n      console.log(response.headers);\n    console.log(response.config);\n    return response.data\n})\n  \t  .catch(error => console.log('Помилка запиту:', error));\n    export { getImagesByQuery };","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nlet lightbox;\nconst loader = document.querySelector(\".loader\") \n\n\n// Створює галерею\nconst createGallery = images => {\n  const gallery = document.querySelector('.gallery');\n  if (!gallery) return;\n\n  const markup = images\n    .map(img => `\n      <li class=\"photo-card\">\n        <a href=\"${img.largeImageURL}\">\n          <img src=\"${img.webformatURL}\" alt=\"${img.tags}\" loading=\"lazy\" />\n        </a>\n        <div class=\"photo-info\">\n          <p><b>Likes:</b> ${img.likes}</p>\n          <p><b>Views:</b> ${img.views}</p>\n          <p><b>Comments:</b> ${img.comments}</p>\n          <p><b>Downloads:</b> ${img.downloads}</p>\n        </div>\n      </li>\n    `)\n    .join('');\n\n  gallery.innerHTML = markup;\n\n  if (!lightbox) {\n    lightbox = new SimpleLightbox('.gallery a', {\n      captions: true,\n      captionsData: 'alt',\n      captionDelay: 250,\n    });\n  } else {\n    lightbox.refresh(); \n  }\n};\n\n// Очищає галерею\nfunction clearGallery() {\n  const gallery = document.querySelector('.gallery');\n  if (!gallery) return;\n  gallery.innerHTML = '';\n}\n\n// Показує лоадер\nfunction showLoader() {\n  if (!loader) return;\n  loader.classList.remove('hidden');\n}\n\n// Ховає лоадер\nfunction hideLoader() {\n  if (!loader) return;\n  loader.classList.add('hidden');\n}\n\nexport { createGallery, clearGallery, showLoader, hideLoader };\n","import { getImagesByQuery } from './js/pixabay-api'\nimport { createGallery, clearGallery, showLoader, hideLoader } from './js/render-functions';\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nlet images;\nconst inputEl = document.querySelector('.inpt');\nconst btnSearch = document.querySelector('.inptButton');\n\nbtnSearch.addEventListener('click', event => {\n  event.preventDefault();\n\n  const query = inputEl.value.trim();\n  if (!query) {\n    iziToast.show({\n      position: 'topRight',\n      color: 'red',\n      title: 'Error',\n      message: 'Please enter a search query',\n    });\n    return;\n  }\n\n  clearGallery();\n  showLoader();\n\n  getImagesByQuery(query)\n    .then(data => {\n      images = data;\n\n      if (images.hits.length === 0) {\n        iziToast.show({\n          position: 'topRight',\n          color: 'red',\n          title: 'Sorry',\n          message: 'there are no images matching your search query.Please try again!',\n          iconUrl: 'https://img.icons8.com/?size=100&id=12405&format=png&color=000000',\n        });\n        return;\n      }\n\n      createGallery(images.hits);\n    })\n    .catch(() => {\n      iziToast.show({\n        position: 'topRight',\n        color: 'red',\n        title: 'Error',\n        message: 'Something went wrong. Please try again later!',\n      });\n    })\n    .finally(() => {\n      hideLoader();\n    });\n});\n"],"names":["axios","keyP","getImagesByQuery","query","response","error","lightbox","loader","createGallery","images","gallery","markup","img","SimpleLightbox","clearGallery","showLoader","hideLoader","inputEl","btnSearch","event","iziToast","data"],"mappings":"owBACAA,EAAM,SAAS,QAAU,2BACzB,MAAMC,EAAO,qCACPC,EAAmBC,GACvBH,EAAM,IAAI,GAAI,CACZ,OAAQ,CACN,IAAKC,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACb,CACL,CAAG,EACE,KAAKC,IACR,QAAQ,IAAIA,EAAS,IAAI,EACrB,QAAQ,IAAIA,EAAS,MAAM,EAC3B,QAAQ,IAAIA,EAAS,UAAU,EAC/B,QAAQ,IAAIA,EAAS,OAAO,EAC9B,QAAQ,IAAIA,EAAS,MAAM,EACpBA,EAAS,KACnB,EACK,MAAMC,GAAS,QAAQ,IAAI,kBAAmBA,CAAK,CAAC,EClB1D,IAAIC,EACJ,MAAMC,EAAS,SAAS,cAAc,SAAS,EAIzCC,EAAgBC,GAAU,CAC9B,MAAMC,EAAU,SAAS,cAAc,UAAU,EACjD,GAAI,CAACA,EAAS,OAEd,MAAMC,EAASF,EACZ,IAAIG,GAAO;AAAA;AAAA,mBAEGA,EAAI,aAAa;AAAA,sBACdA,EAAI,YAAY,UAAUA,EAAI,IAAI;AAAA;AAAA;AAAA,6BAG3BA,EAAI,KAAK;AAAA,6BACTA,EAAI,KAAK;AAAA,gCACNA,EAAI,QAAQ;AAAA,iCACXA,EAAI,SAAS;AAAA;AAAA;AAAA,KAGzC,EACA,KAAK,EAAE,EAEVF,EAAQ,UAAYC,EAEfL,EAOHA,EAAS,QAAO,EANhBA,EAAW,IAAIO,EAAe,aAAc,CAC1C,SAAU,GACV,aAAc,MACd,aAAc,GACpB,CAAK,CAIL,EAGA,SAASC,GAAe,CACtB,MAAMJ,EAAU,SAAS,cAAc,UAAU,EAC5CA,IACLA,EAAQ,UAAY,GACtB,CAGA,SAASK,GAAa,CACfR,GACLA,EAAO,UAAU,OAAO,QAAQ,CAClC,CAGA,SAASS,GAAa,CACfT,GACLA,EAAO,UAAU,IAAI,QAAQ,CAC/B,CCrDA,IAAIE,EACJ,MAAMQ,EAAU,SAAS,cAAc,OAAO,EACxCC,EAAY,SAAS,cAAc,aAAa,EAEtDA,EAAU,iBAAiB,QAASC,GAAS,CAC3CA,EAAM,eAAc,EAEpB,MAAMhB,EAAQc,EAAQ,MAAM,KAAI,EAChC,GAAI,CAACd,EAAO,CACViB,EAAS,KAAK,CACZ,SAAU,WACV,MAAO,MACP,MAAO,QACP,QAAS,6BACf,CAAK,EACD,MACD,CAEDN,IACAC,IAEAb,EAAiBC,CAAK,EACnB,KAAKkB,GAAQ,CAGZ,GAFAZ,EAASY,EAELZ,EAAO,KAAK,SAAW,EAAG,CAC5BW,EAAS,KAAK,CACZ,SAAU,WACV,MAAO,MACP,MAAO,QACP,QAAS,mEACT,QAAS,mEACnB,CAAS,EACD,MACD,CAEDZ,EAAcC,EAAO,IAAI,CAC/B,CAAK,EACA,MAAM,IAAM,CACXW,EAAS,KAAK,CACZ,SAAU,WACV,MAAO,MACP,MAAO,QACP,QAAS,+CACjB,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbJ,GACN,CAAK,CACL,CAAC"}